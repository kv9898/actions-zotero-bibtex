# Zotero BibTeX Export Action

Fetch a Zotero collection (user or group) and export it to a cleaned **BibTeX file** with pinned citation keys.

Designed for reproducible bibliography builds in GitHub workflows.

## ‚ú® Features

- Supports _personal libraries_ (users) and _group libraries_

- Fetches Zotero collections via the official API

- Preserves pinned citation keys (from `Extra ‚Üí Citation Key:`, often generated by Better BibTeX)

- Cleans up common BibTeX formatting issues:

  - Nested braces in `type = {‚Ä¶}`

  - Acronym protection in titles

  - Converts `journal = {...}` to `organization = {...}` for `@online`

- Configurable **output path & filename**

## üîß Inputs

| Name           | Required | Default          | Description                                                                            |
| -------------- | -------- | ---------------- | -------------------------------------------------------------------------------------- |
| `api-key`      | ‚úÖ Yes   | ‚Äî                | Zotero API key (create at [Zotero API settings](https://www.zotero.org/settings/keys)) |
| `library-id`   | ‚úÖ Yes   | ‚Äî                | Zotero **userID** (numeric) or **groupID**                                             |
| `coll-key`     | ‚úÖ Yes   | ‚Äî                | Zotero collection key (e.g. `5SR8EG4D`)                                                |
| `is-group`     | ‚ùå No    | `false`          | Set to `"true"` if using a group library                                               |
| `out-bib-path` | ‚ùå No    | `references.bib` | Where to write the `.bib` file                                                         |

## üîë Getting Your IDs

- **API key**: Create at https://www.zotero.org/settings/keys

- **User ID**: Also visible on the API keys page (‚ÄúYour userID for use in API calls‚Äù).

- **Group ID**: Found in the group‚Äôs URL (`https://www.zotero.org/groups/<groupID>/...`).

- **Collection key**: Last part of the collection URL (`https://www.zotero.org/.../collections/<collKey>`).

‚ö†Ô∏è **Note**: The API requires a numeric userID, **not** your username.

## üöÄ Usage

**Personal library (default)**

```yaml
jobs:
  build-bib:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Export Zotero BibTeX
        uses: your-org/zotero-bibtex-action@v1
        with:
          api-key: ${{ secrets.ZOTERO_API_KEY }}
          library-id: ${{ secrets.ZOTERO_USER_ID }}
          coll-key: ${{ secrets.ZOTERO_COLLECTION_KEY }}
      - run: cat references.bib
```

**Group library**

```yaml
jobs:
  build-bib:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Export Zotero BibTeX
        uses: your-org/zotero-bibtex-action@v1
        with:
          api-key: ${{ secrets.ZOTERO_API_KEY }}
          library-id: ${{ secrets.ZOTERO_GROUP_ID }}
          coll-key: ${{ secrets.ZOTERO_COLLECTION_KEY }}
          is-group: "true"
          out-bib-path: "docs/references.bib"
      - run: cat docs/references.bib
```
## üì¶ Versioning

- Stable releases are tagged (e.g. `v1.0.0`).

- Use the `v1` tag to always get the latest compatible release:

```yaml
uses: your-org/zotero-bibtex-action@v1
```

## ü§ù Contributing
PRs and issues welcome! Please ensure:

- You test with both personal and group libraries

- You include sample .bib diffs in your PRs

## üìú License

MIT ‚Äî use, modify, and share freely.